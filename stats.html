<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>๐ ุฅุญุตุงุฆูุงุช 30 ููู</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
  <style>

  body {
    font-family: 'Cairo', sans-serif;
    background: linear-gradient(to bottom, #e3f2fd, #ffffff);
    margin: 0;
    padding: 40px 20px 80px; /* padding ูู ุชุญุช ููุฒุฑ */
    text-align: center;
    color: #333;
  }

  .back-button {
    position: fixed;
    bottom: 20px;
    left: 20px;
    background-color: #5cc0e7;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 10px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.3s;
    z-index: 1000;
  }

  .back-button:hover {
    background-color: #33ccee;
  }

  .chart-container {
    max-width: 320px;
    margin: auto;
    padding: 20px;
    background: white;
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
  }

  canvas {
    max-width: 100%;
    height: auto;
    margin: auto;
  }

  .message {
    margin-top: 20px;
    font-size: 18px;
    font-weight: bold;
    color: #555;
  }

  .section-title {
    font-size: 22px;
    font-weight: bold;
    color: #5cc0e7;
    margin-bottom: 15px;
  }

  @media (max-width: 500px) {
    body {
      padding: 20px 10px 80px;
    }

    .section-title {
      font-size: 18px;
    }

    .message {
      font-size: 16px;
    }

    .back-button {
      font-size: 14px;
      padding: 8px 14px;
      bottom: 15px;
      left: 15px;
    }

    .chart-container {
      padding: 16px;
      max-width: 100%;
    }
  }
</style>

</head>
<body>


  <div class="chart-container">
    <div class="section-title">ุงุญุตุงุฆูุงุช </div>
    <canvas id="feelingsChart"></canvas>
    <div class="message" id="feelingMessage"></div>
  </div>

  <script>
    function goBack() {
      window.location.href = 'index.html'; // ุฃู ุงุณู ุตูุญุชู ุงูุฑุฆูุณูุฉ
    }

    // ูุซุงู ุชุฌุฑูุจู (ุงุณุชุจุฏูู ุจุงููุฑุงุกุฉ ูู localStorage ูุงุญูุงู)
    const feelingsData = {
      'ุงูุณุนุงุฏุฉ': 4,
      'ุงูุญุฒู': 11,
      'ุงูุฎูู': 3,
      'ุงููุฏูุก': 7,
      'ุงููุฏู': 5
    };

    const feelingColors = {
      'ุงูุณุนุงุฏุฉ': '#feca57',
      'ุงูุญุฒู': '#576574',
      'ุงูุฎูู': '#5f27cd',
      'ุงููุฑุงุบ': '#c8d6e5',
      'ุงูุชูุงุคู': '#1dd1a1',
      'ุงููุฏู': '#ee5253',
      'ุงูุบุถุจ': '#ff6b6b',
      'ุงููุฏูุก': '#54a0ff'
    };

    const ctx = document.getElementById('feelingsChart').getContext('2d');
    const chart = new Chart(ctx, {
      type: 'pie',
      data: {
        labels: Object.keys(feelingsData),
        datasets: [{
          data: Object.values(feelingsData),
          backgroundColor: Object.keys(feelingsData).map(feeling => feelingColors[feeling] || '#ccc')
        }]
      },
      options: {
        plugins: {
          legend: {
            position: 'bottom',
            labels: {
              font: {
                family: 'Cairo'
              }
            }
          }
        }
      }
    });

    // ุงุณุชูุชุงุฌ ุงูุดุนูุฑ ุงููุณูุทุฑ
    const dominantFeeling = Object.entries(feelingsData).sort((a, b) => b[1] - a[1])[0][0];

    const messages = {
      'ุงูุญุฒู': " ูุญุฒููู ุฃูู ูุบูุจ ุนููู ุทุงุจุน ุงูุญุฒู ุฎูุงู ุงูุซูุงุซูู ููููุง ุงููุงุถูุฉ. ููู ุฃูุชู ุญุฒููุฉุ",
      'ุงูุณุนุงุฏุฉ': "๐ุงูุง ูุจุณูุท ุฃู ุงูุณุนุงุฏุฉ ูุงูุช ุญุงุถุฑุฉ ูุซูุฑ ูู ุฃูุงูู ุงูุฃุฎูุฑุฉ.",
      'ุงูุฎูู': " ุงูุฎูู ูุงู ุจุงูู ุนููููุ ุงูู ุงููู ูุฎููู ุ",
      'ุงููุฑุงุบ': " ุดุนูุฑ ุจุงููุฑุงุบ ูุชูุฑุฑุ ุงุนููู ุงู ุญุงุฌุฉ ุฌุฏูุฏุฉ ุญุชู ูู ูุฌูููุฉ.",
      'ุงูุชูุงุคู': "ุงูุงูุงู ุงููู ูุงุชุช ุจุชููู ุงูู ูุชูุงุฆูู ุงูุญูุฏููู",
      'ุงููุฏู': " ูุซูุฑ ูู ุงููุฏู... ูุง ุจุฃุณุ ุงููุงุถู ูุง ููุบูููุฑ ูููู ุงููุณุชูุจู ุจูุฏู.",
      'ุงูุบุถุจ': " ุงูุบุถุจ ูุณูุทุฑุ ุงุจุนุฏู ุนู ุงููุงุณ ุดููู ูุงุนููู ุญุงุฌุฉ ุจุชุญุจููุง.",
      'ุงููุฏูุก': "๐ ูุฏูุก ุฌูููุ ุงุณุชูุชุน ุจุฑุงุญุชู ูููู ูุง ุชูุนุฒู ูุซูุฑูุง."
    };

    document.getElementById("feelingMessage").textContent = messages[dominantFeeling] || "";
  </script>
  <button onclick="goBack()" class="back-button">๐ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</button>

</body>
</html>
